<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Starbucks Order Page</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #f9f9f9;
      padding-top: 71px; /* Added padding to prevent content from being hidden under fixed header */
    }
    .cart-icon {
      font-size: 22px;
      cursor: pointer;
      position: relative;
      padding: 5px;
      border-radius: 50%;
      transition: background-color 0.2s;
    }
    
    .cart-icon:hover {
      background-color: #f1f1f1;
    }
    
    .cart-count {
      background: #00754a;
      color: white;
      font-size: 12px;
      font-weight: bold;
      border-radius: 50%;
      padding: 2px 7px;
      position: absolute;
      top: -8px;
      right: -10px;
    }

    /* cart panel - UPDATED TO MATCH BESTSELLER */
    .cart-panel {
      position: fixed;
      top: 0;
      right: -400px;
      width: 350px;
      height: 100vh;
      background: white;
      box-shadow: -2px 0 15px rgba(0,0,0,0.2);
      transition: right 0.3s ease;
      padding: 20px;
      z-index: 1000; /* Higher than header */
      display: flex;
      flex-direction: column;
    }
    
    .cart-panel.active {
      right: 0;
    }
    
    .cart-header {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }
    
    .cart-header h2 {
      margin: 0;
      font-size: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .back-btn {
      cursor: pointer;
      font-size: 20px;
      margin-right: 10px;
      padding: 5px;
      border-radius: 50%;
      transition: background-color 0.2s;
    }
    
    .back-btn:hover {
      background-color: #f1f1f1;
    }
    
    .cart-items {
      flex-grow: 1;
      overflow-y: auto;
      margin-bottom: 20px;
    }
    
    .cart-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }
    
    .cart-item img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
      margin-right: 10px;
    }
    
    .cart-item-info {
      flex: 1;
    }
    
    .cart-item-name {
      font-weight: 500;
      margin-bottom: 5px;
    }
    
    .cart-item-price {
      color: #00754a;
      font-weight: bold;
      font-size: 14px;
      margin-bottom: 3px;
    }
    
    .cart-item-total {
      color: #00754a;
      font-weight: bold;
      font-size: 14px;
    }
    
    .cart-item-controls {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      justify-content: space-between;
    }
    
    .quantity-controls {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 5px;
    }
    
    .quantity-btn {
      background: #f1f1f1;
      border: none;
      width: 25px;
      height: 25px;
      border-radius: 50%;
      cursor: pointer;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .remove-btn {
      background: #ff4d4d;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
    }
    
    .cart-total {
      padding: 15px 0;
      font-weight: bold;
      border-top: 2px solid #eee;
      display: flex;
      justify-content: space-between;
      font-size: 18px;
    }
    
    .checkout-btn {
      background: #00754a;
      color: white;
      border: none;
      padding: 15px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.2s;
    }
    
    .checkout-btn:hover {
      background: #005a38;
    }
    
    .empty-cart {
      text-align: center;
      color: #888;
      margin-top: 40px;
    }

    /* --- NAVBAR --- */
    .navbar {
      background: #fff;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 30px;
      border-bottom: 1px solid #eee;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
      width: 100%;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .navbar .logo {
      height: 50px;
    }
    .navbar nav a {
      margin: 0 15px;
      text-decoration: none;
      color: #333;
      font-weight: 500;
    }
    .navbar nav a.active {
      color: #006241;
      border-bottom: 2px solid #006241;
    }
    .search-user {
      display: flex;
      align-items: center;
    }
    .search-user input {
      padding: 8px;
      border-radius: 20px;
      border: 1px solid #ccc;
      margin-right: 10px;
    }
    .user-icon {
      font-size: 22px;
    }

    /* --- LOCATION BAR --- */
    .location-bar {
      background: #1e3932;
      color: white;
      padding: 20px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      margin-top: 71px; /* Added margin to account for fixed header */
    }
    .location-info {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 16px;
    }
    .dine-toggle {
      display: flex;
      background: white;
      border-radius: 8px;
      overflow: hidden;
    }
    .dine-toggle button {
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      font-weight: bold;
      background: white;
      color: #006241;
    }
    .dine-toggle button.active {
      background: #1e3932;
      color: white;
    }

    /* --- ALERT --- */
    .alert-box {
      margin-top: 15px;
      background-color: #fce8e6;
      border-radius: 8px;
      padding: 16px;
      color: #b00020;
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: bold;
      max-width: 400px;
    }
    .alert-box span {
      font-weight: normal;
      color: #333;
    }

    /* --- CATEGORY TABS --- */
    .tabs {
      display: flex;
      justify-content: space-around;
      padding: 15px 10px;
      background: #f4f4f4;
      border-bottom: 1px solid #ddd;
      flex-wrap: wrap;
    }
    .tabs button {
      background: none;
      border: none;
      padding: 10px 15px;
      font-size: 15px;
      cursor: pointer;
      color: #333;
    }
    .tabs button.active {
      color: #006241;
      border-bottom: 3px solid #006241;
    }

    /* --- SUB-TABS --- */
    .sub-tabs {
      display: flex;
      justify-content: start;
      padding: 10px 20px;
      overflow-x: auto;
      gap: 30px;
      white-space: nowrap;
      background: #ffffff;
      border-bottom: 1px solid #ddd;
    }
    .sub-tabs button {
      background: none;
      border: none;
      font-size: 16px;
      color: #333;
      cursor: pointer;
    }
    .sub-tabs button.active {
      color: #006241;
      border-bottom: 2px solid #006241;
      font-weight: bold;
    }

    /* --- SCROLLABLE FILTER PILLS --- */
    .filters {
      display: flex;
      overflow-x: auto;
      gap: 10px;
      padding: 10px 20px;
      background: #fff;
      white-space: nowrap;
    }
    .filters button {
      background: #eee;
      border: none;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
    }

    /* --- SCROLL BAR --- */
    .filters::-webkit-scrollbar {
      height: 6px;
    }
    .filters::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    .filters::-webkit-scrollbar-thumb {
      background: #006241;
      border-radius: 10px;
    }

    /* Content Styles */
    .content {
      padding: 20px;
    }
    .section-title {
      margin-bottom: 5px;
      font-size: 22px;
      font-weight: 600;
    }
    .section-description {
      margin-bottom: 30px;
      font-size: 15px;
      color: #555;
    }
    .card-container {
      display: flex;
      gap: 30px;
      flex-wrap: wrap;
    }
    /* UPDATED CARD STYLES - GREEN BACKGROUND */
    .card {
      background-color: #e6f4ec; /* Light green background */
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      width: 320px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    .card-header {
      display: flex;
      gap: 16px;
      align-items: flex-start;
    }
    .card-header img {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #fff; /* Added border for better contrast on green */
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .card-header-content {
      flex: 1;
    }
    .veg-icon {
      width: 16px;
      height: 16px;
      border: 1.5px solid green;
      border-radius: 3px;
      display: inline-block;
      position: relative;
      top: 2px;
      margin-right: 4px;
    }
    .veg-icon::after {
      content: "";
      width: 8px;
      height: 8px;
      background-color: green;
      border-radius: 50%;
      position: absolute;
      top: 3px;
      left: 3px;
    }
    .item-name {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 4px;
      color: #1e3932; /* Dark green text for better contrast */
    }
    .item-subtext {
      font-size: 13px;
      color: #5a7c65; /* Adjusted for better contrast on green */
      margin-bottom: 8px;
    }
    .item-desc {
      font-size: 14px;
      color: #2d4d3c; /* Darker green for better readability */
      min-height: 34px;
    }
    .price-row {
      margin-top: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .price {
      font-size: 17px;
      font-weight: 600;
      color: #1e3932; /* Dark green for price */
    }
    .add-btn {
      background-color: #00754a;
      color: white;
      padding: 8px 20px;
      border: none;
      border-radius: 20px;
      font-size: 14px;
      cursor: pointer;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      transition: background-color 0.2s ease;
    }
    .add-btn:hover {
      background-color: #006241;
    }
    .badge-new {
      background-color: #c8e6c9; /* Light green badge */
      color: #2e7d32; /* Dark green text */
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 5px;
      display: inline-block;
      margin-bottom: 4px;
      font-weight: 600;
    }
    .badge-bestseller {
      color: #d4a300;
      font-size: 13px;
      margin-bottom: 5px;
      font-weight: 500;
    }
    
    /* Overlay for when cart is open */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 999; /* Below cart but above everything else */
      display: none;
    }
    
    .overlay.active {
      display: block;
    }
    
    /* Added animation for cart count */
    @keyframes pop {
      0% { transform: scale(1); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }
    
    .cart-count.pop {
      animation: pop 0.3s ease;
    }
    
    /* Added success message */
    .add-to-cart-success {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #00754a;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.2);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 10px;
      transform: translateY(100px);
      opacity: 0;
      transition: transform 0.3s, opacity 0.3s;
    }
    
    .add-to-cart-success.show {
      transform: translateY(0);
      opacity: 1;
    }
    
    /* QUOTATION SECTION */
    .quotation-section {
      background-color: #ff8c00; /* Orange background */
      color: white;
      padding: 40px 20px;
      margin: 40px 0;
      text-align: center;
      border-radius: 8px;
    }
    .quotation-text {
      font-size: 24px;
      font-weight: 600;
      font-style: italic;
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.5;
    }
    .quotation-author {
      margin-top: 15px;
      font-size: 18px;
      font-weight: 500;
    }
  </style>
</head>
<body>

  <!-- Overlay for when cart is open -->
  <div class="overlay" id="overlay"></div>

  <!-- Success message -->
  <div class="add-to-cart-success" id="successMessage">
    <span>Item added to cart!</span>
  </div>

  <!-- NAVBAR -->
  <header class="navbar">
    <img class="logo" src="https://upload.wikimedia.org/wikipedia/sco/thumb/d/d3/Starbucks_Corporation_Logo_2011.svg/768px-Starbucks_Corporation_Logo_2011.svg.png" alt="Starbucks Logo">
    <nav>
      <a href="Starbucks.html">Home</a>
      <a href="gift.html">Gift</a>
      <a href="Order.html">Order</a>
      <a href="Payment.html">Pay</a>
      <a href="Store.html">Store</a>
    </nav>
    <div class="search-user">
      <input type="text" placeholder="Looking for something specific?">
      <!-- cart icon -->
      <div class="cart-icon" id="cartIcon"> üõí <span class="cart-count">0</span> </div>
    </div>
  </header>

  <!-- LOCATION SECTION -->
  <section class="location-bar">
    <div>
      <div class="location-info">üìç No Store Selected &nbsp;|&nbsp; ‚è± 00 mins</div>
      <div class="alert-box">
       <span style="color:#d63c3c;font-weight:700;">No store found!</span>
        <span>Please enter a different location to find the nearest Starbucks.</span>
      </div>
    </div>
    <div class="dine-toggle">
      <button class="active">Dine-In</button>
      <button>Takeaway</button>
    </div>
  </section>

  <!-- CATEGORY TABS -->
  <div class="tabs">
     <a href="Bestseller.html">
    <button>Bestseller</button>
  </a>
    <button class="active">Drinks</button>
     <a href="food.html">
    <button>Food</button>
  </a>
   <a href="Merchandise.html">
    <button>Merchandise</button>
    </a>
     <a href="Coffee At Home.html">
    <button>Coffee At Home</button>
  </a>
   <a href="Ready to Eat.html">
    <button>Ready to Eat</button>
  </a>
</div>

  <!-- CONTENT -->
  <div class="content">
    <div class="section-title">Espresso</div>
    <div class="section-description">
      Our smooth signature Espresso Roast with rich flavor and caramelly sweetness is at the very heart of everything we do.
    </div>

    <div class="card-container">

      <!-- Card 1 -->
      <div class="card">
        <div class="card-header">
          <img src="https://starbucksstatic.cognizantorderserv.com/Items/Small/113842.png" alt="Belgium Chocolate Latte">
          <div class="card-header-content">
              <div class="badge-new">New Launch</div>
            <div><span class="veg-icon"></span><span class="item-name">Belgium Chocolate Latte</span></div>
            <div class="item-subtext">SHORT(237 ml) .240 kcal</div>
            <div class="item-desc">Espresso with decadent Belgian chocolate sauce, mocha sauce ..</div>
          </div>
        </div>
        <div class="price-row">
          <div class="price">‚Çπ 225.75</div>
          <button class="add-btn">Add Item</button>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="card">
        <div class="card-header">
          <img src="https://starbucksstatic.cognizantorderserv.com/Items/Small/113849.png" alt="Iced Belgium Chocolate Latte">
          <div class="card-header-content">
              <div class="badge-new">New Launch</div>
            <div><span class="veg-icon"></span><span class="item-name">Iced Belgium Chocolate Latte</span></div>
            <div class="item-subtext">343 kcal
  TALL(354 ml) .343 kcal</div>
            <div class="item-desc">Espresso with decadent Belgian chocolate sauce, mocha sauce ..</div>
          </div>
        </div>
        <div class="price-row">
          <div class="price">‚Çπ 231.00</div>
          <button class="add-btn">Add Item</button>
        </div>
      </div>

      <!-- Card 3 -->
      <div class="card">
        <div class="card-header">
          <img src="https://starbucksstatic.cognizantorderserv.com/Items/Small/115987.png" alt="Classic Iced Coffee">
          <div class="card-header-content">
            <div class="badge-new">New Launch</div>
            <div><span class="veg-icon"></span><span class="item-name">Classic Iced Coffee</span></div>
            <div class="item-subtext">SHORT((237 ml) - 128 kcal) .128 kcal</div>
            <div class="item-desc">Savour our premium coffee made with top 3% Arabica beans in ...</div>
          </div>
        </div>
        <div class="price-row">
          <div class="price">‚Çπ 414.75</div>
          <button class="add-btn">Add Item</button>
        </div>
      </div>
          <!-- Card 4 -->
      <div class="card">
        <div class="card-header">
          <img src="https://starbucksstatic.cognizantorderserv.com/Items/Small/100433.jpg" alt="Caffe Americano">
          <div class="card-header-content">
              <div class="badge-new">New Launch</div>
            <div><span class="veg-icon"></span><span class="item-name">Caffe Americano</span></div>
            <div class="item-subtext">SHORT(237 mL) .0 kcal</div>
            <div class="item-desc">Rich in flavour, full-bodied espresso with hot water in true..</div>
          </div>
        </div>
        <div class="price-row">
          <div class="price">‚Çπ 225.75</div>
          <button class="add-btn">Add Item</button>
        </div>
      </div>

          <!-- Card 5 -->
      <div class="card">
        <div class="card-header">
          <img src="https://starbucksstatic.cognizantorderserv.com/Items/Small/100512.jpg" alt="Doppio Espresso">
          <div class="card-header-content">
              <div class="badge-new">New Launch</div>
            <div><span class="veg-icon"></span><span class="item-name">Doppio Espresso</span></div>
            <div class="item-subtext">Per Serve (45 ml) - 0 kcal</div>
            <div class="item-desc">Our smooth signature Espresso Roast and its caramelly sweetn..</div>
          </div>
        </div>
        <div class="price-row">
          <div class="price">‚Çπ 225.75</div>
          <button class="add-btn">Add Item</button>
        </div>
      </div>

       <!-- Card 6 -->
      <div class="card">
        <div class="card-header">
          <img src="https://starbucksstatic.cognizantorderserv.com/Items/Small/100385.jpg" alt="Iced Caff√® Latte">
          <div class="card-header-content">
              <div class="badge-new">New Launch</div>
            <div><span class="veg-icon"></span><span class="item-name">Iced Caff√® Latte</span></div>
            <div class="item-subtext">TALL(354 ml) .122 kcal</div>
            <div class="item-desc">Our signature Pumpkin Spice Latte is back ‚Äì combining handcr..</div>
          </div>
        </div>
        <div class="price-row">
          <div class="price">‚Çπ 225.75</div>
          <button class="add-btn">Add Item</button>
        </div>
      </div>

       <!-- Card 7 -->
      <div class="card">
        <div class="card-header">
          <img src="https://starbucksstatic.cognizantorderserv.com/Items/Small/102253.png" alt="Pumpkin Spice Latte">
          <div class="card-header-content">
              <div class="badge-new">New Launch</div>
            <div><span class="veg-icon"></span><span class="item-name">Pumpkin Spice Latte</span></div>
            <div class="item-subtext">SHORT(237 ml) .219 kcal</div>
            <div class="item-desc">Our dark, Rich in flavour espresso is combined with milk and..</div>
          </div>
        </div>
        <div class="price-row">
          <div class="price">‚Çπ 430.50</div>
          <button class="add-btn">Add Item</button>
        </div>
      </div>

       <!-- Card 8 -->
      <div class="card">
        <div class="card-header">
          <img src="https://starbucksstatic.cognizantorderserv.com/Items/Small/117068.png" alt="Pecan Iced Shaken Espresso">
          <div class="card-header-content">
              <div class="badge-new">New Launch</div>
            <div><span class="veg-icon"></span><span class="item-name">Pecan Iced Shaken Espresso</span></div>
            <div class="item-subtext">TALL(Tall Pecan Iced Shaken Espresso) .118 Kcal</div>
            <div class="item-desc">Double Shot espresso, shaken with Ice and pecan flavour, top..</div>
          </div>
        </div>
        <div class="price-row">
          <div class="price"> ‚Çπ 472.50</div>
          <button class="add-btn">Add Item</button>
        </div>
      </div>

       <!-- Card 9 -->
      <div class="card">
        <div class="card-header">
          <img src="https://starbucksstatic.cognizantorderserv.com/Items/Small/116912.png" alt="Iced Caff√® LatteIced Churro Latte">
          <div class="card-header-content">
              <div class="badge-new">New Launch</div>
            <div><span class="veg-icon"></span><span class="item-name">Iced Churro Latte</span></div>
            <div class="item-subtext">TALL(Tall Iced Churro Latte) .310 Kcal</div>
            <div class="item-desc">Signature Starbucks Latte paired with flavoures of churro wi..</div>
          </div>
        </div>
        <div class="price-row">
          <div class="price">‚Çπ 472.50</div>
          <button class="add-btn">Add Item</button>
        </div>
      </div>

       <!-- Card 10 -->
      <div class="card">
        <div class="card-header">
          <img src="https://starbucksstatic.cognizantorderserv.com/Items/Small/116933.png" alt="Barrelled Plum Americano">
          <div class="card-header-content">
              <div class="badge-new">New Launch</div>
            <div><span class="veg-icon"></span><span class="item-name">Barrelled Plum Americano</span></div>
            <div class="item-subtext">SHORT(237ml) .161 kcal</div>
            <div class="item-desc">Signature Starbucks Americano topped with non alcoholic Rum ..</div>
          </div>
        </div>
        <div class="price-row">
          <div class="price">‚Çπ 430.50</div>
          <button class="add-btn">Add Item</button>
        </div>
      </div>

    </div>
    
    <!-- QUOTATION SECTION -->
    <div class="quotation-section">
      <p class="quotation-text">"Life is like a cup of coffee. It's all in how you make it, and sometimes in how you take it."</p>
    </div>
  </div>

  <!-- Cart Panel - UPDATED TO MATCH BESTSELLER -->
  <div class="cart-panel" id="cartPanel">
    <div class="cart-header">
      <span class="back-btn" id="backBtn">&#8592;</span>
      <h2>Your Cart</h2>
    </div>
    <div class="cart-items" id="cartItems">
      <div class="empty-cart">Your cart is empty</div>
    </div>
    <div class="cart-total">
      <span>Total:</span>
      <span id="cartTotalAmount">‚Çπ 0.00</span>
    </div>
        <a href="Payment.html">
    <button class="checkout-btn">Proceed to Checkout</button></a>
  </div>
  
  <script>
    const cart = [];
    const cartIcon = document.getElementById("cartIcon");
    const cartCount = document.querySelector(".cart-count");
    const cartPanel = document.getElementById("cartPanel");
    const cartItemsContainer = document.getElementById("cartItems");
    const cartTotalAmount = document.getElementById("cartTotalAmount");
    const backBtn = document.getElementById("backBtn");
    const overlay = document.getElementById("overlay");
    const successMessage = document.getElementById("successMessage");

    // Helper function to extract price as number
    function getPriceNumber(priceStr) {
      return parseFloat(priceStr.replace(/[^\d.]/g, ''));
    }

    // Open cart
    cartIcon.addEventListener("click", () => {
      cartPanel.classList.add("active");
      overlay.classList.add("active");
      document.body.style.overflow = 'hidden'; // Prevent scrolling when cart is open
    });

    // Close cart with back button
    backBtn.addEventListener("click", () => {
      cartPanel.classList.remove("active");
      overlay.classList.remove("active");
      document.body.style.overflow = ''; // Re-enable scrolling
    });

    // Close cart when clicking on overlay
    overlay.addEventListener("click", () => {
      cartPanel.classList.remove("active");
      overlay.classList.remove("active");
      document.body.style.overflow = ''; // Re-enable scrolling
    });

    // Show success message when item is added
    function showSuccessMessage() {
      successMessage.classList.add('show');
      
      // Remove the pop animation class if it exists
      cartCount.classList.remove('pop');
      // Trigger reflow to restart animation
      void cartCount.offsetWidth;
      // Add the pop animation class
      cartCount.classList.add('pop');
      
      // Hide the message after 2 seconds
      setTimeout(() => {
        successMessage.classList.remove('show');
      }, 2000);
    }

    // Add to cart functionality
    document.querySelectorAll(".add-btn").forEach((btn) => {
      btn.addEventListener("click", (e) => {
        const card = e.target.closest(".card");
        const itemName = card.querySelector(".item-name").textContent;
        const itemPrice = card.querySelector(".price").textContent;
        const itemImg = card.querySelector("img").src;
        const priceNumber = getPriceNumber(itemPrice);
        
        // Check if item already exists in cart
        const existingItemIndex = cart.findIndex(item => item.name === itemName);
        
        if (existingItemIndex !== -1) {
          // Item exists, increase quantity
          cart[existingItemIndex].quantity += 1;
        } else {
          // Add new item to cart
          cart.push({ 
            name: itemName, 
            price: priceNumber,
            image: itemImg,
            quantity: 1
          });
        }
        
        updateCart();
        showSuccessMessage();
      });
    });

    // Update cart
    function updateCart() {
      cartItemsContainer.innerHTML = "";
      let total = 0;
      
      if (cart.length === 0) {
        cartItemsContainer.innerHTML = '<div class="empty-cart">Your cart is empty</div>';
        cartTotalAmount.textContent = '‚Çπ 0.00';
        cartCount.textContent = '0';
        return;
      }
      
      cart.forEach((item, i) => {
        const itemTotal = item.price * item.quantity;
        total += itemTotal;
        
        const div = document.createElement("div");
        div.classList.add("cart-item");
        div.innerHTML = `
          <img src="${item.image}" alt="${item.name}">
          <div class="cart-item-info">
            <div class="cart-item-name">${item.name}</div>
            <div class="cart-item-price">‚Çπ ${item.price.toFixed(2)} √ó ${item.quantity}</div>
            <div class="cart-item-total">‚Çπ ${itemTotal.toFixed(2)}</div>
          </div>
          <div class="cart-item-controls">
            <div class="quantity-controls">
              <button class="quantity-btn minus" data-index="${i}">-</button>
              <span>${item.quantity}</span>
              <button class="quantity-btn plus" data-index="${i}">+</button>
            </div>
            <button class="remove-btn" data-index="${i}">‚úï</button>
          </div>
        `;
        cartItemsContainer.appendChild(div);
      });
      
      // Update cart count and total
      cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
      cartTotalAmount.textContent = `‚Çπ ${total.toFixed(2)}`;

      // Add event listeners to quantity buttons
      document.querySelectorAll('.quantity-btn.plus').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const idx = e.target.getAttribute("data-index");
          cart[idx].quantity += 1;
          updateCart();
        });
      });
      
      document.querySelectorAll('.quantity-btn.minus').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const idx = e.target.getAttribute("data-index");
          if (cart[idx].quantity > 1) {
            cart[idx].quantity -= 1;
          } else {
            cart.splice(idx, 1);
          }
          updateCart();
        });
      });

      // Add event listeners to remove buttons
      document.querySelectorAll(".remove-btn").forEach(btn => {
        btn.addEventListener("click", (e) => {
          const idx = e.target.getAttribute("data-index");
          cart.splice(idx, 1);
          updateCart();
        });
      });
    }
    
    // Function to save cart to localStorage
    function saveCartToStorage() {
      try {
        localStorage.setItem('starbucksCart', JSON.stringify(cart));
        return true;
      } catch (e) {
        console.error('Error saving cart to localStorage:', e);
        return false;
      }
    }

    // Function to get cart from localStorage
    function getCartFromStorage() {
      try {
        const savedCart = localStorage.getItem('starbucksCart');
        return savedCart ? JSON.parse(savedCart) : [];
      } catch (e) {
        console.error('Error loading cart from localStorage:', e);
        return [];
      }
    }

    // Initialize cart from localStorage
    window.addEventListener('DOMContentLoaded', () => {
      const savedCart = getCartFromStorage();
      if (savedCart.length > 0) {
        cart.push(...savedCart);
        updateCart();
      }
    });

    // Save cart to localStorage before page unload
    window.addEventListener('beforeunload', () => {
      saveCartToStorage();
    });
  </script>
</body>
</html>